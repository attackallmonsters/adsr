#N canvas 401 127 1270 719 12;
#X declare -path ../out;
#X obj 242 356 snapshot~;
#X obj 519 309 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 542 309 loadbang;
#X floatatom 242 381 5 0 0 0 - - - 24;
#X obj 253 18 hsl 170 20 0 2000 0 0 empty vattack Attack 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 250 43 5 0 0 0 - - - 0;
#X obj 296 42 hsl 170 20 0 1000 0 0 empty vdecay Decay 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 293 67 5 0 0 0 - - - 0;
#X obj 340 67 hsl 170 20 0 1 0 0 empty vsustain Sustain\ level 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 337 92 5 0 0 0 - - - 0;
#X obj 381 92 hsl 170 20 0 3000 0 0 empty vrelease Release 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 378 117 5 0 0 0 - - - 0;
#X obj 423 119 hsl 170 20 -1 1 0 0 empty vattcurve Attack\ shape 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 420 144 5 0 0 0 - - - 0;
#X msg 161 270 attack \$1;
#X msg 240 270 decay \$1;
#X msg 309 270 sustain \$1;
#X msg 392 270 release \$1;
#X obj 71 137 bng 50 250 50 0 empty empty Start 9 24 0 12 #c6ffc7 #000000 #000000;
#X obj 145 137 bng 50 250 50 0 empty empty Stop 11 24 0 12 #ffc7c6 #000000 #000000;
#X msg 71 270 start;
#X msg 120 270 stop;
#X obj 519 336 metro 1;
#X obj 54 631 hsl 500 50 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 474 270 attackshape \$1;
#X msg 584 270 releaseshape \$1;
#X obj 464 143 hsl 170 20 -1 1 0 0 empty vrelcurve Release\ shape 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 461 168 5 0 0 0 - - - 0;
#X obj 71 53 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 71 78 \; pd dsp \$1 \;;
#X obj 739 26 loadbang;
#X obj 760 226 cnv 20 500 210 empty empty Usage 20 12 0 12 #e0e0e0 #404040 0;
#X text 775 371 attack and release shapes \; < 1: concave/logarithmic \, fast increase/decrease \; 1: linear \; > 1: convex/exponentially \, slow increase/decrease;
#X obj 242 330 adsr~;
#X obj 71 192 t b b;
#N canvas 355 238 573 304 curve 0;
#X obj 108 43 b;
#X obj 86 201 i;
#X msg 104 174 0;
#X obj 127 201 + 1;
#X floatatom 86 226 5 0 0 0 - - - 0;
#X obj 35 181 t f b;
#X obj 34 92 t f f;
#X obj 34 156 spigot;
#X obj 108 18 r r;
#X obj 34 43 * 2;
#X obj 34 68 - 1;
#X obj 77 126 > -1;
#X obj 301 21 cnv 20 198 138 empty empty empty 20 12 0 12 #000000 #404040 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array curve0 15000 float 0;
#X coords 0 1 14999 -1 200 140 1;
#X restore 300 20 graph;
#X msg 165 194 \; curve0 const -1 \; curve0 color 90 \, width 2 \;;
#X obj 35 252 array set curve0;
#X obj 34 18 r v0;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 2 0 14 0;
#X connect 3 0 1 1;
#X connect 4 0 15 1;
#X connect 5 0 15 0;
#X connect 5 1 1 0;
#X connect 6 0 7 0;
#X connect 6 1 11 0;
#X connect 7 0 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 11 0 7 1;
#X connect 16 0 9 0;
#X coords 0 -1 1 1 200 140 2 300 20;
#X restore 203 483 pd curve;
#X obj 103 216 s r;
#N canvas 364 230 573 304 curve 0;
#X obj 108 43 b;
#X obj 86 201 i;
#X msg 104 174 0;
#X obj 127 201 + 1;
#X floatatom 86 226 5 0 0 0 - - - 0;
#X obj 35 181 t f b;
#X obj 34 92 t f f;
#X obj 34 156 spigot;
#X obj 108 18 r r;
#X obj 34 43 * 2;
#X obj 34 68 - 1;
#X obj 77 126 > -1;
#X obj 301 21 cnv 20 198 138 empty empty empty 20 12 0 12 #000000 #404040 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array curve1 15000 float 0;
#X coords 0 1 14999 -1 200 140 1;
#X restore 300 20 graph;
#X msg 165 194 \; curve1 const -1 \; curve1 color 90 \, width 2 \;;
#X obj 35 252 array set curve1;
#X obj 34 18 r v1;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 2 0 14 0;
#X connect 3 0 1 1;
#X connect 4 0 15 1;
#X connect 5 0 15 0;
#X connect 5 1 1 0;
#X connect 6 0 7 0;
#X connect 6 1 11 0;
#X connect 7 0 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 11 0 7 1;
#X connect 16 0 9 0;
#X coords 0 -1 1 1 200 140 2 300 20;
#X restore 709 483 pd curve;
#X obj 242 419 s v0;
#X obj 401 356 snapshot~;
#X floatatom 401 381 5 0 0 0 - - - 24;
#X obj 401 330 adsr~ 1;
#X obj 401 419 s v1;
#X obj 566 631 hsl 500 50 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 51 605 r v0;
#X obj 563 605 r v1;
#X text 196 684 always returns to 0 first on start;
#X obj 13 11 declare -path ../out;
#X obj 153 684 adsr~;
#X obj 612 686 adsr~ 1;
#X text 668 686 continues with the last envelope status on start;
#X obj 506 168 hsl 170 20 0 1 0 0 empty vgain Gain 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 503 193 5 0 0 0 - - - 0;
#X msg 739 51 \; vattack 500 \; vdecay 500 \; vsustain 0.5 \; vrelease 1000 \; vattcurve 0 \; vrelcurve 0 \; vgain 1 \;;
#X msg 700 270 g \$1;
#X text 774 245 adsr~ param 1: 1 will start the envelope from current env level \; [attack(: attack time in ms 0 - 10000 \; [decay(: time in ms to go to sustain level 0 - 10000 \; [sustain(: sustain envelope level 0 - 1 \; [release(: release time in ms 0 - 10000 \; [attackshape(: envelope curve for attack 0.1 - 10 \; [releaseshape(: envelope curve for release 0-1 - 10 \; [g(: relative gain amplitude 0 - 1, f 66;
#X connect 0 0 3 0;
#X connect 1 0 22 0;
#X connect 2 0 22 0;
#X connect 3 0 38 0;
#X connect 4 0 5 0;
#X connect 5 0 14 0;
#X connect 6 0 7 0;
#X connect 7 0 15 0;
#X connect 8 0 9 0;
#X connect 9 0 16 0;
#X connect 10 0 11 0;
#X connect 11 0 17 0;
#X connect 12 0 13 0;
#X connect 13 0 24 0;
#X connect 14 0 33 0;
#X connect 14 0 41 0;
#X connect 15 0 33 0;
#X connect 15 0 41 0;
#X connect 16 0 33 0;
#X connect 16 0 41 0;
#X connect 17 0 33 0;
#X connect 17 0 41 0;
#X connect 18 0 34 0;
#X connect 19 0 21 0;
#X connect 20 0 33 0;
#X connect 20 0 41 0;
#X connect 21 0 33 0;
#X connect 21 0 41 0;
#X connect 22 0 0 0;
#X connect 22 0 39 0;
#X connect 24 0 41 0;
#X connect 24 0 33 0;
#X connect 25 0 41 0;
#X connect 25 0 33 0;
#X connect 26 0 27 0;
#X connect 27 0 25 0;
#X connect 28 0 29 0;
#X connect 30 0 53 0;
#X connect 33 0 0 0;
#X connect 34 0 20 0;
#X connect 34 1 36 0;
#X connect 39 0 40 0;
#X connect 40 0 42 0;
#X connect 41 0 39 0;
#X connect 44 0 23 0;
#X connect 45 0 43 0;
#X connect 51 0 52 0;
#X connect 52 0 54 0;
#X connect 54 0 41 0;
#X connect 54 0 33 0;
